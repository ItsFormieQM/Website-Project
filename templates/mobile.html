<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>probably undertale</title>
<style>
  * { margin:0; padding:0; box-sizing:border-box; font-family:"DETERMINATION SANS", monospace; }
  body { background:blue; color:white; overflow:hidden; }
  canvas { display:block; image-rendering:pixelated; }
</style>
</head>
<body>

<canvas id="gameCanvas"></canvas>

<script>
// ---------- CANVAS SETUP ----------
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

// ---------- PLAYER SETUP ----------
const player = {
  x: canvas.width/2,
  y: canvas.height/2,
  size: 32,
  color: 'red',
  speed: 5
};

// ---------- INPUT ----------
const keys = {};
window.addEventListener('keydown', e => keys[e.key.toLowerCase()] = true);
window.addEventListener('keyup', e => keys[e.key.toLowerCase()] = false);

// Mouse support
let mouseDown = false;
let mousePos = {x: player.x, y: player.y};

canvas.addEventListener('mousedown', e => {
  mouseDown = true;
  mousePos.x = e.clientX;
  mousePos.y = e.clientY;
});

canvas.addEventListener('mouseup', () => {
  mouseDown = false;
});

canvas.addEventListener('mousemove', e => {
  if(mouseDown){
    mousePos.x = e.clientX;
    mousePos.y = e.clientY;
  }
});

// ---------- GAME LOOP ----------
function gameLoop() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Keyboard movement
  if(keys['w']) player.y -= player.speed;
  if(keys['s']) player.y += player.speed;
  if(keys['a']) player.x -= player.speed;
  if(keys['d']) player.x += player.speed;

  // Mouse movement (move towards mouse when pressed)
  if(mouseDown){
    const dx = mousePos.x - (player.x + player.size/2);
    const dy = mousePos.y - (player.y + player.size/2);
    player.x += Math.sign(dx) * Math.min(Math.abs(dx), player.speed);
    player.y += Math.sign(dy) * Math.min(Math.abs(dy), player.speed);
  }

  // Keep player in bounds
  player.x = Math.max(0, Math.min(canvas.width - player.size, player.x));
  player.y = Math.max(0, Math.min(canvas.height - player.size, player.y));

  // Draw player
  ctx.fillStyle = player.color;
  ctx.fillRect(player.x, player.y, player.size, player.size);

  requestAnimationFrame(gameLoop);
}

gameLoop();

// ---------- RESIZE ----------
window.addEventListener('resize', () => {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
});
</script>

</body>
</html>
